{"version":3,"file":"ng-feature-tour.umd.js","sources":["../../../projects/ng-feature-tour/src/lib/ng-feature-tour.model.ts","../../../projects/ng-feature-tour/src/lib/ng-feature-tour.service.ts","../../../projects/ng-feature-tour/src/lib/pipes/identify.pipe.ts","../../../projects/ng-feature-tour/src/lib/pipes/aria-description.pipe.ts","../../../projects/ng-feature-tour/src/lib/pipes/aria-label.pipe.ts","../../../projects/ng-feature-tour/src/lib/components/feature-tour/ng-feature-tour.component.html","../../../projects/ng-feature-tour/src/lib/components/feature-tour/ng-feature-tour.component.ts","../../../projects/ng-feature-tour/src/lib/ng-feature-tour.module.ts","../../../projects/ng-feature-tour/src/ng-feature-tour.ts"],"sourcesContent":["export enum EventEnum {\n  Start = 'START',\n  Next = 'NEXT',\n  Previous = 'PREVIOUS',\n  Abort = 'ABORT',\n  Finish = 'FINISH',\n  Escape = 'ESCAPE',\n}\n\nexport interface Event {\n  event: EventEnum;\n  step: Step;\n}\n\nexport interface Step {\n  target: string;\n  title: string;\n  description: string;\n  enabled?: boolean;\n  visible?: boolean;\n  bounds?: StepBounds;\n}\n\nexport interface LensBounds {\n  left: number;\n  top: number;\n  width: number;\n  height: number;\n}\n\nexport interface StepBounds {\n  left: number;\n  top: number;\n  modifiers: string;\n  lens: LensBounds;\n}\n\nexport interface Setup {\n  a11ty: {\n    roleDescription: string;\n  };\n  initialStep: string;\n  controls: {\n    abort: string;\n    previous: string;\n    next: string;\n    done: string;\n  };\n}\n","import { Injectable, EventEmitter } from '@angular/core';\n\nimport { Event, Setup } from './ng-feature-tour.model';\n\n@Injectable({ providedIn: 'root' })\nexport class FeatureTourService {\n  onChange: EventEmitter<Event>;\n  initialize: EventEmitter<Setup>;\n\n  constructor() {\n    this.onChange = new EventEmitter<Event>();\n    this.initialize = new EventEmitter<Setup>();\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { Step } from '../ng-feature-tour.model';\n\n@Pipe({ name: 'identify' })\nexport class IdentifyPipe implements PipeTransform {\n  transform(step: Step, prefix: string = 'ft-step'): string {\n    return `${prefix}-${step.target}`;\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { Step } from '../ng-feature-tour.model';\n\n@Pipe({ name: 'ariaDescription' })\nexport class AriaDescriptionPipe implements PipeTransform {\n  transform(step: Step): string {\n    return `${step.title}. ${step.description}.`;\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({ name: 'ariaLabel' })\nexport class AriaLabelPipe implements PipeTransform {\n  transform(label: string, total: number, index: number): string {\n    index = index + 1;\n\n    return label\n      .replace('{total}', total.toString())\n      .replace('{index}', index.toString());\n  }\n}\n","<div class=\"ft-wrapper\" *ngIf=\"enabled\" cdkTrapFocus>\n  <div *ngFor=\"let step of steps; let index = index\" [hidden]=\"!step.enabled\">\n    <div class=\"ft-scape-handler\" (click)=\"onEscapeHandler()\"></div>\n    <div\n      class=\"ft-lens\"\n      [style.left.px]=\"step.bounds?.lens.left\"\n      [style.top.px]=\"step.bounds?.lens.top\"\n      [style.width.px]=\"step.bounds?.lens.width\"\n      [style.height.px]=\"step.bounds?.lens.height\"\n    ></div>\n    <div\n      aria-modal=\"true\"\n      role=\"dialog\"\n      class=\"ft-step {{ step.bounds?.modifiers }}\"\n      [id]=\"step | identify\"\n      [attr.aria-roledescription]=\"step | ariaDescription\"\n      [attr.aria-label]=\"\n        setup.a11ty.roleDescription | ariaLabel: steps.length:index\n      \"\n      [style.left.px]=\"step.bounds?.left\"\n      [style.top.px]=\"step.bounds?.top\"\n      [style.visibility]=\"step.visible ? 'visible' : 'hidden'\"\n    >\n      <h2 class=\"ft-step-title\">{{ step.title }}</h2>\n      <div class=\"ft-step-description\">{{ step.description }}</div>\n\n      <div class=\"ft-step-bullet-list\">\n        <span\n          *ngFor=\"let step of steps\"\n          class=\"ft-step-bullet\"\n          [class.is-current]=\"step.enabled\"\n        ></span>\n      </div>\n      <div class=\"ft-step-controls\">\n        <div class=\"ft-step-abort\">\n          <button\n            type=\"button\"\n            tabindex=\"0\"\n            *ngIf=\"!isLastStep(index)\"\n            (click)=\"abort(step)\"\n            [innerHTML]=\"setup.controls.abort\"\n          ></button>\n        </div>\n        <div class=\"ft-step-navigation\">\n          <button\n            type=\"button\"\n            tabindex=\"0\"\n            *ngIf=\"!isFirstStep(index)\"\n            (click)=\"previous(step, index)\"\n            [innerHTML]=\"setup.controls.previous\"\n          ></button>\n          <button\n            type=\"button\"\n            tabindex=\"0\"\n            *ngIf=\"!isLastStep(index)\"\n            (click)=\"next(step, index)\"\n            [innerHTML]=\"setup.controls.next\"\n          ></button>\n          <button\n            type=\"button\"\n            tabindex=\"0\"\n            *ngIf=\"isLastStep(index)\"\n            (click)=\"finish(step)\"\n            [innerHTML]=\"setup.controls.done\"\n          ></button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit, HostListener, Input } from '@angular/core';\n\nimport {\n  Step,\n  EventEnum,\n  StepBounds,\n  Setup,\n} from '../../ng-feature-tour.model';\nimport { FeatureTourService } from '../../ng-feature-tour.service';\n\n@Component({\n  selector: 'ng-feature-tour',\n  templateUrl: './ng-feature-tour.component.html',\n  styleUrls: ['./ng-feature-tour.component.scss'],\n})\nexport class NgFeatureTourComponent implements OnInit {\n  @Input()\n  steps: Step[];\n\n  enabled: boolean;\n\n  setup: Setup;\n\n  constructor(private featureTourService: FeatureTourService) {}\n\n  private disableStep(step: Step): void {\n    step.enabled = false;\n    step.visible = false;\n  }\n\n  private disableTour(step: Step, event: EventEnum): void {\n    this.enabled = false;\n    this.emitChangeEvent(step, event);\n  }\n\n  private scrollToTop(step: Step): void {\n    window.scrollTo(0, document.getElementById(step.target).offsetTop - 16);\n  }\n\n  private emitChangeEvent(step: Step, event: EventEnum): void {\n    this.featureTourService.onChange.emit({ event, step });\n  }\n\n  private getBounds(step: HTMLElement, target: HTMLElement): StepBounds {\n    const margin = 32;\n    const stepRect = step.getBoundingClientRect();\n    const targetRect = target.getBoundingClientRect();\n\n    let left: number;\n    let top: number;\n    let modifiers: string[] = [];\n\n    // axis y\n    if (\n      targetRect.y >\n      screen.availHeight - (targetRect.y + targetRect.height)\n    ) {\n      modifiers.push('to-top');\n      top = targetRect.y - stepRect.height - margin;\n    } else {\n      modifiers.push('to-bottom');\n      top = targetRect.y + targetRect.height + margin;\n    }\n\n    // axis x\n    if (targetRect.x > screen.availWidth / 2) {\n      modifiers.push('to-right');\n      left = targetRect.x + targetRect.width - stepRect.width;\n    } else {\n      modifiers.push('to-left');\n      left = targetRect.x;\n    }\n\n    return {\n      left,\n      top,\n      modifiers: modifiers.join(' '),\n      lens: {\n        left: targetRect.left,\n        top: targetRect.top,\n        width: targetRect.width,\n        height: targetRect.height,\n      },\n    };\n  }\n\n  private applyBounds(step: Step): void {\n    const stepId = `ft-step-${step.target}`;\n    const targetElement = document.getElementById(step.target);\n    const stepElement = document.getElementById(stepId);\n\n    step.bounds = this.getBounds(stepElement, targetElement);\n  }\n\n  private captureFocus(step: Step): void {\n    const stepId = `ft-step-${step.target}`;\n    const tabable = document.querySelectorAll(`#${stepId} [tabindex]`).item(0);\n\n    setTimeout(() => {\n      (<HTMLElement>tabable).focus();\n    }, 1);\n  }\n\n  private enableStep(step: Step): void {\n    this.scrollToTop(step);\n    this.enabled = true;\n    step.enabled = true;\n\n    // render delay trick\n    setTimeout(() => {\n      step.visible = true;\n      this.applyBounds(step);\n      this.captureFocus(step);\n    }, 1);\n  }\n\n  ngOnInit(): void {\n    if (!this.steps || this.steps.length === 0) {\n      throw 'NgFeatureTourComponent: no steps provided';\n    }\n\n    this.featureTourService.initialize.subscribe((setup: Setup) => {\n      const initialStep = this.steps\n        .filter((step) => step.target === setup.initialStep)\n        .shift();\n\n      if (!initialStep) {\n        throw `NgFeatureTourComponent: target \"${setup.initialStep}\" not found`;\n      }\n\n      this.setup = setup;\n      this.enableStep(initialStep);\n    });\n  }\n\n  @HostListener('document:keydown.escape', ['$event'])\n  onEscapeHandler(event?: KeyboardEvent) {\n    if (!this.steps) {\n      return;\n    }\n\n    const currentStep = this.steps.filter(({ enabled }) => enabled).shift();\n\n    if (!currentStep) {\n      return;\n    }\n\n    this.close(currentStep);\n    this.emitChangeEvent(currentStep, EventEnum.Escape);\n  }\n\n  close(step: Step): void {\n    step.enabled = false;\n    step.visible = false;\n    this.enabled = false;\n  }\n\n  isLastStep(stepIndex: number): boolean {\n    return stepIndex === this.steps.length - 1;\n  }\n\n  isFirstStep(stepIndex: number): boolean {\n    return stepIndex === 0;\n  }\n\n  getAriasIdentifiers(target: string): string {\n    return `ft-title-${target} ft-description-${target}`;\n  }\n\n  previous(currentStep: Step, currentStepIndex: number): void {\n    const step = this.steps[currentStepIndex - 1];\n\n    this.disableStep(currentStep);\n    this.enableStep(step);\n    this.emitChangeEvent(step, EventEnum.Previous);\n  }\n\n  next(currentStep: Step, currentStepIndex: number): void {\n    const step = this.steps[currentStepIndex + 1];\n\n    this.disableStep(currentStep);\n    this.enableStep(step);\n    this.emitChangeEvent(step, EventEnum.Next);\n  }\n\n  finish(currentStep: Step): void {\n    this.disableStep(currentStep);\n    this.disableTour(currentStep, EventEnum.Finish);\n  }\n\n  abort(currentStep: Step): void {\n    this.disableStep(currentStep);\n    this.disableTour(currentStep, EventEnum.Abort);\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { A11yModule } from '@angular/cdk/a11y';\n\nimport { NgFeatureTourComponent } from './components/feature-tour/ng-feature-tour.component';\n\nimport { AriaDescriptionPipe } from './pipes/aria-description.pipe';\nimport { AriaLabelPipe } from './pipes/aria-label.pipe';\nimport { IdentifyPipe } from './pipes/identify.pipe';\n\n@NgModule({\n  declarations: [\n    NgFeatureTourComponent,\n    AriaDescriptionPipe,\n    AriaLabelPipe,\n    IdentifyPipe,\n  ],\n  imports: [BrowserModule, A11yModule],\n  exports: [NgFeatureTourComponent],\n})\nexport class NgFeatureTourModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["EventEnum","EventEmitter","Injectable","Pipe","i0.ɵɵelement","i0.ɵɵclassProp","i0.ɵɵelementStart","i0.ɵɵlistener","i0.ɵɵelementEnd","i0.ɵɵproperty","i0.ɵɵtext","i0.ɵɵtemplate","i0.ɵɵadvance","i0.ɵɵstyleProp","i0.ɵɵclassMapInterpolate1","i0.ɵɵattribute","i0.ɵɵtextInterpolate","Component","Input","HostListener","BrowserModule","A11yModule","NgModule"],"mappings":"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"}