{"version":3,"file":"ng-feature-tour.js","sources":["../../../projects/ng-feature-tour/src/lib/ng-feature-tour.model.ts","../../../projects/ng-feature-tour/src/lib/ng-feature-tour.service.ts","../../../projects/ng-feature-tour/src/lib/pipes/identify.pipe.ts","../../../projects/ng-feature-tour/src/lib/pipes/aria-description.pipe.ts","../../../projects/ng-feature-tour/src/lib/pipes/aria-label.pipe.ts","../../../projects/ng-feature-tour/src/lib/components/feature-tour/ng-feature-tour.component.html","../../../projects/ng-feature-tour/src/lib/components/feature-tour/ng-feature-tour.component.ts","../../../projects/ng-feature-tour/src/lib/ng-feature-tour.module.ts","../../../projects/ng-feature-tour/src/ng-feature-tour.ts"],"sourcesContent":["export enum EventEnum {\n  Start = 'START',\n  Next = 'NEXT',\n  Previous = 'PREVIOUS',\n  Abort = 'ABORT',\n  Finish = 'FINISH',\n  Escape = 'ESCAPE',\n}\n\nexport interface Event {\n  event: EventEnum;\n  step: Step;\n}\n\nexport interface Step {\n  target: string;\n  title: string;\n  description: string;\n  enabled?: boolean;\n  visible?: boolean;\n  bounds?: StepBounds;\n}\n\nexport interface LensBounds {\n  left: number;\n  top: number;\n  width: number;\n  height: number;\n}\n\nexport interface StepBounds {\n  left: number;\n  top: number;\n  modifiers: string;\n  lens: LensBounds;\n}\n\nexport interface Setup {\n  a11ty: {\n    roleDescription: string;\n  };\n  initialStep: string;\n  controls: {\n    abort: string;\n    previous: string;\n    next: string;\n    done: string;\n  };\n}\n","import { Injectable, EventEmitter } from '@angular/core';\n\nimport { Event, Setup } from './ng-feature-tour.model';\n\n@Injectable({ providedIn: 'root' })\nexport class FeatureTourService {\n  onChange: EventEmitter<Event>;\n  initialize: EventEmitter<Setup>;\n\n  constructor() {\n    this.onChange = new EventEmitter<Event>();\n    this.initialize = new EventEmitter<Setup>();\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { Step } from '../ng-feature-tour.model';\n\n@Pipe({ name: 'identify' })\nexport class IdentifyPipe implements PipeTransform {\n  transform(step: Step, prefix: string = 'ft-step'): string {\n    return `${prefix}-${step.target}`;\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { Step } from '../ng-feature-tour.model';\n\n@Pipe({ name: 'ariaDescription' })\nexport class AriaDescriptionPipe implements PipeTransform {\n  transform(step: Step): string {\n    return `${step.title}. ${step.description}.`;\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({ name: 'ariaLabel' })\nexport class AriaLabelPipe implements PipeTransform {\n  transform(label: string, total: number, index: number): string {\n    index = index + 1;\n\n    return label\n      .replace('{total}', total.toString())\n      .replace('{index}', index.toString());\n  }\n}\n","<div class=\"ft-wrapper\" *ngIf=\"enabled\" cdkTrapFocus>\n  <div *ngFor=\"let step of steps; let index = index\" [hidden]=\"!step.enabled\">\n    <div class=\"ft-scape-handler\" (click)=\"onEscapeHandler()\"></div>\n    <div\n      class=\"ft-lens\"\n      [style.left.px]=\"step.bounds?.lens.left\"\n      [style.top.px]=\"step.bounds?.lens.top\"\n      [style.width.px]=\"step.bounds?.lens.width\"\n      [style.height.px]=\"step.bounds?.lens.height\"\n    ></div>\n    <div\n      aria-modal=\"true\"\n      role=\"dialog\"\n      class=\"ft-step {{ step.bounds?.modifiers }}\"\n      [id]=\"step | identify\"\n      [attr.aria-roledescription]=\"step | ariaDescription\"\n      [attr.aria-label]=\"\n        setup.a11ty.roleDescription | ariaLabel: steps.length:index\n      \"\n      [style.left.px]=\"step.bounds?.left\"\n      [style.top.px]=\"step.bounds?.top\"\n      [style.visibility]=\"step.visible ? 'visible' : 'hidden'\"\n    >\n      <h2 class=\"ft-step-title\">{{ step.title }}</h2>\n      <div class=\"ft-step-description\">{{ step.description }}</div>\n\n      <div class=\"ft-step-bullet-list\">\n        <span\n          *ngFor=\"let step of steps\"\n          class=\"ft-step-bullet\"\n          [class.is-current]=\"step.enabled\"\n        ></span>\n      </div>\n      <div class=\"ft-step-controls\">\n        <div class=\"ft-step-abort\">\n          <button\n            type=\"button\"\n            tabindex=\"0\"\n            *ngIf=\"!isLastStep(index)\"\n            (click)=\"abort(step)\"\n            [innerHTML]=\"setup.controls.abort\"\n          ></button>\n        </div>\n        <div class=\"ft-step-navigation\">\n          <button\n            type=\"button\"\n            tabindex=\"0\"\n            *ngIf=\"!isFirstStep(index)\"\n            (click)=\"previous(step, index)\"\n            [innerHTML]=\"setup.controls.previous\"\n          ></button>\n          <button\n            type=\"button\"\n            tabindex=\"0\"\n            *ngIf=\"!isLastStep(index)\"\n            (click)=\"next(step, index)\"\n            [innerHTML]=\"setup.controls.next\"\n          ></button>\n          <button\n            type=\"button\"\n            tabindex=\"0\"\n            *ngIf=\"isLastStep(index)\"\n            (click)=\"finish(step)\"\n            [innerHTML]=\"setup.controls.done\"\n          ></button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit, HostListener, Input } from '@angular/core';\n\nimport {\n  Step,\n  EventEnum,\n  StepBounds,\n  Setup,\n} from '../../ng-feature-tour.model';\nimport { FeatureTourService } from '../../ng-feature-tour.service';\n\n@Component({\n  selector: 'ng-feature-tour',\n  templateUrl: './ng-feature-tour.component.html',\n  styleUrls: ['./ng-feature-tour.component.scss'],\n})\nexport class NgFeatureTourComponent implements OnInit {\n  @Input()\n  steps: Step[];\n\n  enabled: boolean;\n\n  setup: Setup;\n\n  constructor(private featureTourService: FeatureTourService) {}\n\n  private disableStep(step: Step): void {\n    step.enabled = false;\n    step.visible = false;\n  }\n\n  private disableTour(step: Step, event: EventEnum): void {\n    this.enabled = false;\n    this.emitChangeEvent(step, event);\n  }\n\n  private scrollToTop(step: Step): void {\n    window.scrollTo(0, document.getElementById(step.target).offsetTop - 16);\n  }\n\n  private emitChangeEvent(step: Step, event: EventEnum): void {\n    this.featureTourService.onChange.emit({ event, step });\n  }\n\n  private getBounds(step: HTMLElement, target: HTMLElement): StepBounds {\n    const margin = 32;\n    const stepRect = step.getBoundingClientRect();\n    const targetRect = target.getBoundingClientRect();\n\n    let left: number;\n    let top: number;\n    let modifiers: string[] = [];\n\n    // axis y\n    if (\n      targetRect.y >\n      screen.availHeight - (targetRect.y + targetRect.height)\n    ) {\n      modifiers.push('to-top');\n      top = targetRect.y - stepRect.height - margin;\n    } else {\n      modifiers.push('to-bottom');\n      top = targetRect.y + targetRect.height + margin;\n    }\n\n    // axis x\n    if (targetRect.x > screen.availWidth / 2) {\n      modifiers.push('to-right');\n      left = targetRect.x + targetRect.width - stepRect.width;\n    } else {\n      modifiers.push('to-left');\n      left = targetRect.x;\n    }\n\n    return {\n      left,\n      top,\n      modifiers: modifiers.join(' '),\n      lens: {\n        left: targetRect.left,\n        top: targetRect.top,\n        width: targetRect.width,\n        height: targetRect.height,\n      },\n    };\n  }\n\n  private applyBounds(step: Step): void {\n    const stepId = `ft-step-${step.target}`;\n    const targetElement = document.getElementById(step.target);\n    const stepElement = document.getElementById(stepId);\n\n    step.bounds = this.getBounds(stepElement, targetElement);\n  }\n\n  private captureFocus(step: Step): void {\n    const stepId = `ft-step-${step.target}`;\n    const tabable = document.querySelectorAll(`#${stepId} [tabindex]`).item(0);\n\n    setTimeout(() => {\n      (<HTMLElement>tabable).focus();\n    }, 1);\n  }\n\n  private enableStep(step: Step): void {\n    this.scrollToTop(step);\n    this.enabled = true;\n    step.enabled = true;\n\n    // render delay trick\n    setTimeout(() => {\n      step.visible = true;\n      this.applyBounds(step);\n      this.captureFocus(step);\n    }, 1);\n  }\n\n  ngOnInit(): void {\n    if (!this.steps || this.steps.length === 0) {\n      throw 'NgFeatureTourComponent: no steps provided';\n    }\n\n    this.featureTourService.initialize.subscribe((setup: Setup) => {\n      const initialStep = this.steps\n        .filter((step) => step.target === setup.initialStep)\n        .shift();\n\n      if (!initialStep) {\n        throw `NgFeatureTourComponent: target \"${setup.initialStep}\" not found`;\n      }\n\n      this.setup = setup;\n      this.enableStep(initialStep);\n    });\n  }\n\n  @HostListener('document:keydown.escape', ['$event'])\n  onEscapeHandler(event?: KeyboardEvent) {\n    if (!this.steps) {\n      return;\n    }\n\n    const currentStep = this.steps.filter(({ enabled }) => enabled).shift();\n\n    if (!currentStep) {\n      return;\n    }\n\n    this.close(currentStep);\n    this.emitChangeEvent(currentStep, EventEnum.Escape);\n  }\n\n  close(step: Step): void {\n    step.enabled = false;\n    step.visible = false;\n    this.enabled = false;\n  }\n\n  isLastStep(stepIndex: number): boolean {\n    return stepIndex === this.steps.length - 1;\n  }\n\n  isFirstStep(stepIndex: number): boolean {\n    return stepIndex === 0;\n  }\n\n  getAriasIdentifiers(target: string): string {\n    return `ft-title-${target} ft-description-${target}`;\n  }\n\n  previous(currentStep: Step, currentStepIndex: number): void {\n    const step = this.steps[currentStepIndex - 1];\n\n    this.disableStep(currentStep);\n    this.enableStep(step);\n    this.emitChangeEvent(step, EventEnum.Previous);\n  }\n\n  next(currentStep: Step, currentStepIndex: number): void {\n    const step = this.steps[currentStepIndex + 1];\n\n    this.disableStep(currentStep);\n    this.enableStep(step);\n    this.emitChangeEvent(step, EventEnum.Next);\n  }\n\n  finish(currentStep: Step): void {\n    this.disableStep(currentStep);\n    this.disableTour(currentStep, EventEnum.Finish);\n  }\n\n  abort(currentStep: Step): void {\n    this.disableStep(currentStep);\n    this.disableTour(currentStep, EventEnum.Abort);\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { A11yModule } from '@angular/cdk/a11y';\n\nimport { NgFeatureTourComponent } from './components/feature-tour/ng-feature-tour.component';\n\nimport { AriaDescriptionPipe } from './pipes/aria-description.pipe';\nimport { AriaLabelPipe } from './pipes/aria-label.pipe';\nimport { IdentifyPipe } from './pipes/identify.pipe';\n\n@NgModule({\n  declarations: [\n    NgFeatureTourComponent,\n    AriaDescriptionPipe,\n    AriaLabelPipe,\n    IdentifyPipe,\n  ],\n  imports: [BrowserModule, A11yModule],\n  exports: [NgFeatureTourComponent],\n})\nexport class NgFeatureTourModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i0.ɵɵelement","i0.ɵɵclassProp","i0.ɵɵelementStart","i0.ɵɵlistener","i0.ɵɵelementEnd","i0.ɵɵproperty","i0.ɵɵtext","i0.ɵɵtemplate","i0.ɵɵadvance","i0.ɵɵstyleProp","i0.ɵɵclassMapInterpolate1","i0.ɵɵattribute","i0.ɵɵtextInterpolate"],"mappings":"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"}